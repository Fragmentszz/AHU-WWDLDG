<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>二手物品交易平台</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        header {
            background-color: #333;
            color: #fff;
            padding: 10px;
            text-align: center;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .item {
            border: 1px solid #ddd;
            margin-bottom: 20px;
            padding: 10px;
        }
        .buy-button {
            background-color: #007bff;
            color: #fff;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
        }
        .category-button {
            background-color: #888;
            color: #fff;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            margin-right: 10px;
        }
        .category-label {
            background-color: #888;
            color: #fff;
            border: none;
            padding: 5px;
            border-radius: 5px;
            margin-left: 10px;
        }
        .search-box {
            margin-bottom: 20px;
        }
        .sort-button {
            background-color: #007bff;
            color: #fff;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
        }
        .sort-dropdown {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    
    <header>
        <h1>二手物品交易平台</h1>
        <div class="search-box">
            <input type="text" id="search-input" placeholder="搜索商品...">
            <button onclick="searchItems()">搜索</button>
        </div>
        <div class="sort-dropdown">
            <label for="sort-select">价格排序：</label>
            <select id="sort-select">
                <option value="asc">升序</option>
                <option value="desc">降序</option>
            </select>
            <button class="sort-button" onclick="sortItems()">排序</button>
        </div>
        <div>
            <button class="category-button" onclick="filterItems('全部')">全部</button>
            <button class="category-button" onclick="filterItems('生活用品')">生活用品</button>
            <button class="category-button" onclick="filterItems('交通工具')">交通工具</button>
            <button class="category-button" onclick="filterItems('学习用品')">学习用品</button>
            <button class="category-button" onclick="filterItems('其他')">其他</button>
        </div>
    </header>
    <div id = "items" class="container">
        <h2>二手物品列表</h2>
        <div class="item" data-category="交通工具" data-price="150">
            <h3>物品名称: 二手自行车</h3>
            <p>描述: 26寸山地自行车，用过两年，轮胎换新。</p>
            <p>价格: $150</p>
            <p>联系卖家: 卖家姓名</p>
            <p class="category-label">分类: 交通工具</p>
            <button class="buy-button">购买</button>
        </div>
        <div class="item" data-category="学习用品" data-price="500">
            <h3>物品名称: 二手笔记本电脑</h3>
            <p>描述: 15寸Dell笔记本，配置高，适合学习。</p>
            <p>价格: $500</p>
            <p>联系卖家: 卖家姓名</p>
            <p class="category-label">分类: 学习用品</p>
            <button class="buy-button">购买</button>
        </div>
        <!-- 添加更多二手物品信息 -->
        <div class="item" data-category="生活用品" data-price="200">
            <h3>物品名称: 二手家具</h3>
            <p>描述: 实木书桌和椅子，适合家庭办公。</p>
            <p>价格: $200</p>
            <p>联系卖家: 卖家姓名</p>
            <p class="category-label">分类: 生活用品</p>
            <button class="buy-button">购买</button>
        </div>
        <div class="item" data-category="其他" data-price="250">
            <h3>物品名称: 二手音响系统</h3>
            <p>描述: 高保真音响系统，带有多功能遥控器。</p>
            <p>价格: $250</p>
            <p>联系卖家: 卖家姓名</p>
            <p class="category-label">分类: 其他</p>
            <button class="buy-button">购买</button>
        </div>
        <div class="item" data-category="生活用品" data-price="50">
            <h3>物品名称: 二手咖啡机</h3>
            <p>描述: Nespresso咖啡机，附带咖啡胶囊。</p>
            <p>价格: $50</p>
            <p>联系卖家: 卖家姓名</p>
            <p class="category-label">分类: 生活用品</p>
            <button class="buy-button">购买</button>
        </div>
        <div class="item" data-category="交通工具" data-price="300">
            <h3>物品名称: 电动滑板车</h3>
            <p>描述: Xiaomi电动滑板车，最大速度25km/h。</p>
            <p>价格: $300</p>
            <p>联系卖家: 卖家姓名</p>
            <p class="category-label">分类: 交通工具</p>
            <button class="buy-button">购买</button>
        </div>
        <!-- 继续添加更多二手物品 -->
        <div class="item" data-category="学习用品" data-price="30">
            <h3>物品名称: 二手教科书</h3>
            <p>描述: 大学生物学教科书，几乎全新。</p>
            <p>价格: $30</p>
            <p>联系卖家: 卖家姓名</p>
            <p class="category-label">分类: 学习用品</p>
            <button class="buy-button">购买</button>
        </div>
        <div class="item" data-category="交通工具" data-price="120">
            <h3>物品名称: 二手滑雪板</h3>
            <p>描述: Salomon滑雪板，适合初学者。</p>
            <p>价格: $120</p>
            <p>联系卖家: 卖家姓名</p>
            <p class="category-label">分类: 交通工具</p>
            <button class="buy-button">购买</button>
        </div>
        <div class="item" data-category="其他" data-price="80" gid = "">
            <h3>物品名称: 二手瑜伽垫</h3>
            <p class = "describe">描述: Liforme瑜伽垫，环保材料。</p>
            <p class = "price">价格: $80</p>
            <p class = "contact">联系卖家: 卖家姓名</p>
            <p class="category-label">分类: 其他</p>
            <button class="buy-button">购买</button>
        </div>
    </div>
    <div>
        <button onclick = "create()">
            点我啊！
        </button>

    </div>
    <script>
        var nowgoods = 10;
        let gids = [];
        let dic = ["describe","price","contact","category-label"];
        function toString(num)
        {
            var res = "";
            do{
                res = String.fromCharCode(num % 10 + 48) + res;
                num = parseInt(num / 10);
            }while(num > 0)
            return res;
        }
        function refresh(index)
        {
            var div = getElementById(index);

        }
        function create()
        {
           
            var index = "item" + toString(nowgoods)
            var div = document.createElement("div");
            div.className = "item";
            var p;
            for(i=0;i<4;i++)
            {
                p = document.createElement('p');
                p.id = index + '_' + dic[i];p.className = dic[i];p.innerHTML = nowgoods;
                //p.gid = gids[nowgoods];
                div.appendChild(p);
            }
            
            p = document.createElement("button");p.id = index + '_' + 'button';p.className  = "buy-button";
            
            div.appendChild(p);
            alert(nowgoods);
 
            document.getElementById("items").appendChild(div);
            nowgoods++;
        }
        function filterItems(category) {
            const items = document.querySelectorAll('.item');
            items.forEach(item => {
                const itemCategory = item.getAttribute('data-category');
                if (category === '全部' || category === itemCategory) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        function searchItems() 
        {
        const searchInput = document.getElementById('search-input');
        const searchTerm = searchInput.value.toLowerCase(); // Convert input to lowercase for case-insensitive search
        const items = document.querySelectorAll('.item');

        items.forEach(item => {
        const itemName = item.querySelector('h3').textContent.toLowerCase();

        // Check if the item name contains the search term
        if (itemName.includes(searchTerm)) {
            item.style.display = 'block';
        } else {
            item.style.display = 'none';
        }
        });
}


        function sortItems() {
        const sortSelect = document.getElementById('sort-select');
        const sortOrder = sortSelect.value; // Get the selected sorting order (asc or desc)
        const itemsContainer = document.querySelector('.container');
        const items = Array.from(document.querySelectorAll('.item'));

        // Sort items based on their data-price attribute
        items.sort((a, b) => {
        const priceA = parseFloat(a.getAttribute('data-price'));
        const priceB = parseFloat(b.getAttribute('data-price'));

        if (sortOrder === 'asc') {
            return priceA - priceB;
        } else {
            return priceB - priceA;
        }
        });

        // Remove items from the container
        itemsContainer.innerHTML = '';

        // Append sorted items back to the container
        items.forEach(item => {
        itemsContainer.appendChild(item);
         });
}

    </script>
</body>
</html>
